# 论文实验部分规划蓝图

## 摘要

本实验计划旨在为抗菌肽（AMP）数据库及预测服务器项目撰写一份全面、有力的论文实验部分。实验设计的核心策略是从“追求SOTA”转向“验证系统的有效性、可靠性和实用性”，最终突出数据库和Web服务器作为科研工具的价值。

## 1. 实验设置 (Experimental Setup)

本部分旨在清晰、可复现地描述实验的基础环境。

### 1.1 数据集 (Datasets)
- **数据来源**: 详细描述`Gram-`, `Gram+`, `Gram+-` 三个FASTA文件的来源和生物学意义。
- **数据统计**:
  - 提供每个类别的序列数量。
  - 提供序列长度的分布统计（均值、最大/最小值、标准差）。
  - 绘制序列长度分布的直方图。
- **数据处理**:
  - 描述数据清洗、去重（如已执行）的流程。
  - 明确训练集、验证集、测试集的划分比例（例如，80%/10%/10%）和划分方法（例如，分层随机抽样）。

### 1.2 实施细节 (Implementation Details)
- **硬件环境**:
  - GPU: 双 NVIDIA RTX 4090
  - CPU: [填写您的CPU型号]
  - 内存: [填写您的内存大小]
- **软件环境**:
  - 列出关键库及其版本：Python, TensorFlow, Keras, Scikit-learn, PyTorch, Flask。
- **分类器超参数**:
  - 创建一个表格，详细列出`hybrid_classifier.py`中最终使用的关键超参数，包括：
    - 学习率
    - 批次大小 (Batch Size)
    - 优化器 (Optimizer)
    - LSTM单元数
    - MLP层结构和激活函数
    - Dropout率

## 2. 混合分类器性能评估 (Classifier Performance Evaluation)

本部分旨在通过定量分析，证明核心分类引擎的可靠性和优越性。

### 2.1 评估指标 (Evaluation Metrics)
- 明确定义将用于评估的指标：
  - 准确率 (Accuracy)
  - 精确率 (Precision)
  - 召回率 (Recall)
  - F1分数 (F1-Score)
  - ROC曲线下面积 (AUC-ROC)
  - PR曲线下面积 (AUC-PR)

### 2.2 交叉验证 (Cross-Validation)
- **方法**: 在训练集上实施5折或10折交叉验证。
- **目的**: 证明模型的稳定性和泛化能力，排除单次划分的偶然性。
- **产出**: 创建一个表格，展示各项评估指标在交叉验证中的**平均值**和**标准差**。

### 2.3 消融实验 (Ablation Study)
- **目的**: 通过与简化模型的对比，论证混合架构中每个组件的必要性和有效性。
- **对比模型**:
  1. **仅LSTM模型**: 仅使用序列信息，移除理化特征和MLP分支。
  2. **仅MLP模型**: 仅使用28个理化特征，移除序列信息和LSTM分支。
  3. **传统机器学习基线**: 使用相同的28个理化特征训练一个**支持向量机(SVM)**和**随机森林(Random Forest)**模型。
- **产出**:
  - 一个综合对比表格，清晰展示您的完整混合模型在所有评估指标上均优于上述简化模型和基线模型。
  - 一段文字分析，解释为什么混合模型的效果更好。

## 3. 特征分析与模型可解释性 (Feature Analysis & Interpretability)

本部分旨在深入挖掘模型决策背后的生物学意义，增加论文的科学深度。

### 3.1 理化特征重要性分析
- **方法**:
  - 使用**SHAP (SHapley Additive exPlanations)**库分析28个理化特征对模型预测的贡献度。
  - 或者，使用Scikit-learn的**Permutation Importance**作为替代方法。
- **产出**:
  - 一个SHAP摘要图或特征重要性条形图，展示最重要的Top 10-15个特征。
  - 分析这些重要特征（如电荷、疏水性）与抗菌肽功能的已知生物学关联。

### 3.2 特征分布可视化
- **方法**: 利用Web应用中的可视化逻辑，对测试集中被正确预测为“阳性”和“阴性”的序列进行分析。
- **产出**:
  - 绘制关键特征（例如，电荷、疏水力矩、脂肪族指数）在两类序列上的**箱线图**或**小提琴图**。
  - 直观地展示两类序列在理化性质上的显著差异，并结合生物学知识进行解释。

## 4. 数据库与Web服务器验证 (Database & Web Server Validation)

本部分是论文的核心亮点，将您的工作从一个单纯的模型升华为一个对科研社区有实际贡献的工具。

### 4.1 数据库构建与表征 (Database Construction & Characterization)
- **方法**:
  - 详细描述数据库的构建过程。可以重点介绍`Gram+-.fasta`（广谱抗菌肽）作为核心数据集。
  - 对数据库中的序列进行全面的理化性质统计分析。
- **产出**:
  - 对数据库内容的统计描述（序列数量、平均长度等）。
  - 关键理化性质的分布直方图。

### 4.2 功能演示与案例研究 (Case Study)
- **目的**: 设计一个模拟的科研应用场景，展示Web服务器的端到端实用价值。
- **模拟场景**: “一名药物研发人员合成了5条新的候选肽，希望利用我们的Web服务器快速评估其抗革兰氏阴性菌的潜力并决定下一步的实验策略。”
- **演示步骤**:
  1. 将这5条序列输入Web服务器。
  2. 展示服务器输出的预测结果表格（可截图或在论文中重新绘制）。
  3. 展示服务器生成的关键可视化图表，如特征对比雷达图和降维分析图。
  4. 撰写一段详细的分析，解释这些结果如何指导研究人员做出决策。例如：“根据预测结果，序列3和5的活性概率最高（>0.9），且其理化性质（如高正电荷和中等疏水性）与数据库中已知的有效AMPs相似。因此，建议优先对这两条序列进行湿实验验证。”
- **产出**: 一节图文并茂的案例分析，生动地展示您工具的实用性和便捷性。

## 5. 生成模型初步探索 (Preliminary Generative Model Exploration)

本部分作为“未来工作”或“初步探索”，展示您研究工作的前瞻性和广度。

### 5.1 生成序列展示
- **方法**: 从训练好的D3PM+ESM2模型中，使用不同的采样策略（如Top-k, Nucleus）生成少量（约10-20条）高质量的肽序列。
- **产出**: 在表格中展示生成的序列。

### 5.2 生成序列初步评估
- **内部验证闭环**:
  - 将生成的序列**输入到您自己已验证的分类器中**进行活性预测。
  - 统计并报告预测为“阳性”（抗革兰氏阴性菌）的序列比例。
- **理化性质分析**:
  - 分析生成序列的理化性质（长度、电荷、疏水性等）分布，并与训练集中的真实序列进行比较。
- **产出**:
  - 一个表格，显示生成序列的预测活性。
  - 几个图表，对比生成序列与真实序列的性质分布。

### 5.3 声明
- 在结论中明确指出，这部分工作是初步的，但结果表明该生成模型在从头设计具有特定功能的新型抗菌肽方面具有巨大潜力，为未来的研究方向奠定了基础。